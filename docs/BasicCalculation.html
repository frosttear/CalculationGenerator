<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-l10n-key="basicCalculationTitle"></title>
    <link rel="stylesheet" href="styles.css">
    <script src="js/vue.min.js"></script>
    <script src="js/l10n.js" defer></script>
    <style>
        .day-section {
            max-width: 800px;
            margin: 0 auto 40px auto;
        }
        
        .equation-section {
            margin-bottom: 30px;
        }
        
        .equation-section h3 {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .equation-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .equation-item {
            font-size: 14px;
            min-width: 120px;
            padding: 5px 10px;
        }
        
        @media print {
            .day-section {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-link" data-l10n-key="backToHome"></a>
    <div id="app">
        <h1 data-l10n-key="basicCalculationTitle"></h1>
        
        <div class="no-print input-area">
            <label for="dayCount" data-l10n-key="dayCount"></label>
            <input type="number" id="dayCount" v-model.number="dayCount" min="1" max="10" />
            
            <label for="additionCount" data-l10n-key="additionCount"></label>
            <input type="number" id="additionCount" v-model.number="additionCount" min="1" max="50" />
            
            <label for="subtractionCount" data-l10n-key="subtractionCount"></label>
            <input type="number" id="subtractionCount" v-model.number="subtractionCount" min="1" max="50" />
            
            <button @click="generateAllEquations" data-l10n-key="generate" class="generate-button"></button>
        </div>

        <div v-if="practiceData.length > 0">
            <div v-for="(dayData, dayIndex) in practiceData" :key="'practice-' + dayIndex" class="day-section" style="page-break-after: always;">
                <h2 style="text-align: center; margin-bottom: 20px;">
                    <span data-l10n-key="practiceDay" :data-l10n-args="JSON.stringify({ day: dayIndex + 1 })"></span>
                </h2>
                
                <!-- Addition Section -->
                <div class="equation-section">
                    <h3 data-l10n-key="additionPractice"></h3>
                    <div class="equation-grid">
                        <div v-for="(equation, index) in dayData.addition" :key="'add-' + index" class="equation-item">
                            {{ equation }} = ____
                        </div>
                    </div>
                </div>
                
                <!-- Subtraction Section -->
                <div class="equation-section">
                    <h3 data-l10n-key="subtractionPractice"></h3>
                    <div class="equation-grid">
                        <div v-for="(equation, index) in dayData.subtraction" :key="'sub-' + index" class="equation-item">
                            {{ equation }} = ____
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                dayCount: 5,
                additionCount: 10,
                subtractionCount: 10,
                practiceData: []
            },
            mounted() {
                this.generateAllEquations();
            },
            methods: {
                generateAdditionEquations(count) {
                    // Generate all possible addition equations within 10
                    let allEquations = [];
                    for(let a = 1; a <= 9; a++) {
                        for(let b = 1; b <= 9; b++) {
                            if(a + b <= 10) {
                                allEquations.push(`${a} + ${b}`);
                            }
                        }
                    }
                    
                    // Shuffle and take the required count
                    allEquations.sort(() => Math.random() - 0.5);
                    return allEquations.slice(0, Math.min(count, allEquations.length));
                },

                generateSubtractionEquations(count) {
                    // Generate all possible subtraction equations within 10
                    let allEquations = [];
                    for(let a = 1; a <= 10; a++) {
                        for(let b = 1; b < a; b++) {
                            allEquations.push(`${a} - ${b}`);
                        }
                    }
                    
                    // Shuffle and take the required count
                    allEquations.sort(() => Math.random() - 0.5);
                    return allEquations.slice(0, Math.min(count, allEquations.length));
                },

                generateAllEquations() {
                    this.practiceData = [];
                    
                    for(let day = 0; day < this.dayCount; day++) {
                        const dayData = {
                            addition: this.generateAdditionEquations(this.additionCount),
                            subtraction: this.generateSubtractionEquations(this.subtractionCount)
                        };
                        this.practiceData.push(dayData);
                    }
                }
            }
        });
    </script>
</body>
</html>