<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Tests for Calculation Generator</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: monospace;
        }
        .test-results {
            margin: 20px;
        }
        .pass {
            color: green;
        }
        .fail {
            color: red;
        }
    </style>
</head>
<body>
    <h1>Unit Tests for Calculation Generator</h1>
    <div id="test-results" class="test-results"></div>

    <script src="js/vue.min.js"></script>
    <script>
        const resultsContainer = document.getElementById('test-results');

        function assert(condition, message) {
            const result = document.createElement('div');
            if (condition) {
                result.className = 'pass';
                result.textContent = `PASS: ${message}`;
            } else {
                result.className = 'fail';
                result.textContent = `FAIL: ${message}`;
            }
            resultsContainer.appendChild(result);
        }

        // --- Logic from CalculationGenerator.html ---
        const app = new Vue({
            data: {
                rangeStart: 0,
                rangeEnd: 100,
                operators: ['+', '-', '*', '/'],
            },
            methods: {
                calculateResult(number1, number2, operator) {
                    switch (operator) {
                        case '+':
                        case '\u002b':
                            return number1 + number2;
                        case '-':
                        case '\u2212':
                            return number1 - number2;
                        case '*':
                        case '\u00D7':
                            return number1 * number2;
                        case '/':
                        case '\u00F7':
                            return number1 / number2;
                    }
                },
            }
        });

        // --- Test Cases ---
        function runTests() {
            // Test calculateResult
            assert(app.calculateResult(5, 3, '+') === 8, '5 + 3 should be 8');
            assert(app.calculateResult(10, 4, '-') === 6, '10 - 4 should be 6');
            assert(app.calculateResult(3, 4, '*') === 12, '3 * 4 should be 12');
            assert(app.calculateResult(20, 5, '/') === 4, '20 / 5 should be 4');

            // Test equation generation logic (simplified)
            // In a real scenario, we would mock the random number generator for predictable tests.
            // Here, we'll just check for some basic properties.

            const precedence = { '+': 0, '-': 0, '*': 1, '/': 1 };

            // Test standard precedence: 3 + 4 * 5 = 23
            let intermediate = app.calculateResult(4, 5, '*');
            let final = app.calculateResult(3, intermediate, '+');
            assert(final === 23, 'Standard precedence: 3 + 4 * 5 should be 23');

            // Test forced left-to-right: (3 + 4) * 5 = 35
            intermediate = app.calculateResult(3, 4, '+');
            final = app.calculateResult(intermediate, 5, '*');
            assert(final === 35, 'Forced precedence: (3 + 4) * 5 should be 35');
            
            // Test standard precedence: 10 - 8 / 2 = 6
            intermediate = app.calculateResult(8, 2, '/');
            final = app.calculateResult(10, intermediate, '-');
            assert(final === 6, 'Standard precedence: 10 - 8 / 2 should be 6');

            // Test forced left-to-right: (10 - 8) / 2 = 1
            intermediate = app.calculateResult(10, 8, '-');
            final = app.calculateResult(intermediate, 2, '/');
            assert(final === 1, 'Forced precedence: (10 - 8) / 2 should be 1');

            console.log('Tests finished.');
        }

        runTests();
    </script>
</body>
</html>